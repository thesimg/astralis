<!DOCTYPE html>
<html>
  <head>
    <title>Astralis</title>
    <meta name="description" content="Astralis" />
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="libraries/p5.min.js"></script>
  </head>
  <body>
    <h1>
      ASTRALIS
    </h1>
    <p>
      Welcome to the world of Astralis
      <br><br><br><br>
      Use WASD or the arrow keys to move around the world
      <br><br>
      Press SHIFT to dash in the direction you are moving
      <br><br><br>
      You can stick to any side of a platform
      <br><br>
      Platforms that have the [!] symbol will vanish after you jump off of them
      <br><br>
      Platforms that have the [~] symbol are broken and have a limited lifespan
      <br><br>
      Normal platforms have no symbol
      <br><br><br>
      The "Foddian" gamemode has no normal platforms, you must ascend the map as fast as you can, faster dash cooldown
      <br><br>
      The "Traversal" gamemode has a mix of all platforms, you must traverse the map as fast as you can
      <br><br><br>
      You may enter a specific seed into the "seed" input, so you can compete against your friends on a specific map (SEEDS do not work on Traversal mode at this time)
      <br><br>
      
      
    </p>
    <div id="canvasDiv">
      <script src="generation.js"></script>
      <script src="functions.js"></script>
      <script src="player.js"></script>
      <script src="sketch.js"></script>
    </div>

    <script type="text/javascript">
      window.addEventListener("keydown", function(e) {
        if(["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.code) > -1) {
            e.preventDefault();
        }
        if(e.keyCode === 70){
          <!--alert("FULLSCREEN");-->
          document.getElementById(canvasDiv).scrollIntoView({behavior: "smooth", block: "end", inline: "nearest"});
       };
      }, false);
      function setSeedUrl(n) {
        var seedInput = encodeURIComponent(
          document.getElementById("seed").value
        );
        print("base url " + window.location.href.split('?')[0]);
        var newUrl = [
          window.location.href.split('?')[0]+"?seed=" + seedInput
        ];
        window.location.replace(newUrl);
        window.location = newUrl;
        
        return false;
      }
    </script>

    <form target="_blank">
      Input Seed: <input id="seed" type="text" value="" />
      <button onclick="setSeedUrl()">Go</button>
    </form>
  </body>
</html>
